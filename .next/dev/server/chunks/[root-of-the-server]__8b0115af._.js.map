{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mouli%20Suri/OneDrive%20-%20University%20of%20Cincinnati/Python/moneytracker-frontend/lib/prisma.js"],"sourcesContent":["// lib/prisma.js\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\nlet prisma;\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  prisma = new PrismaClient();\r\n} else {\r\n  if (!global.prisma) {\r\n    global.prisma = new PrismaClient({\r\n      log: ['error', 'warn'],\r\n    });\r\n  }\r\n  prisma = global.prisma;\r\n}\r\n\r\nexport { prisma };"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;;AAEA,IAAI;AAEJ;;KAEO;IACL,IAAI,CAAC,yDAAO,MAAM,EAAE;QAClB,yDAAO,MAAM,GAAG,IAAI,6IAAY,CAAC;YAC/B,KAAK;gBAAC;gBAAS;aAAO;QACxB;IACF;IACA,SAAS,yDAAO,MAAM;AACxB"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mouli%20Suri/OneDrive%20-%20University%20of%20Cincinnati/Python/moneytracker-frontend/app/api/transactions/route.js"],"sourcesContent":["// app/api/transactions/route.js\r\n\r\nexport const runtime = 'nodejs'; // make sure this runs on the Node runtime\r\n\r\nimport { auth } from '@clerk/nextjs/server';\r\nimport { NextResponse } from 'next/server';\r\nimport { prisma } from '../../../lib/prisma';\r\n\r\n// GET /api/transactions  -> list current user's transactions\r\nexport async function GET() {\r\n  try {\r\n    const { userId } = auth();\r\n\r\n    if (!userId) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n    }\r\n\r\n    const transactions = await prisma.transaction.findMany({\r\n      where: { userId },\r\n      orderBy: { date: 'desc' },\r\n    });\r\n\r\n    return NextResponse.json(transactions, { status: 200 });\r\n  } catch (err) {\r\n    console.error('GET /api/transactions error:', err);\r\n    return NextResponse.json(\r\n      { error: err.message || 'Internal Server Error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST /api/transactions  -> create a new transaction\r\nexport async function POST(request) {\r\n  try {\r\n    const { userId } = auth();\r\n\r\n    if (!userId) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { amount, type, category, description, date } = body;\r\n\r\n    if (!amount || !type || !category) {\r\n      return NextResponse.json(\r\n        { error: 'amount, type, and category are required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const created = await prisma.transaction.create({\r\n      data: {\r\n        userId,\r\n        amount: parseFloat(amount),\r\n        type,\r\n        category,\r\n        description: description || null,\r\n        date: date ? new Date(date) : undefined,\r\n      },\r\n    });\r\n\r\n    return NextResponse.json(created, { status: 201 });\r\n  } catch (err) {\r\n    console.error('POST /api/transactions error:', err);\r\n    return NextResponse.json(\r\n      { error: err.message || 'Internal Server Error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;;AAIhC;AACA;AACA;AAJO,MAAM,UAAU,UAAU,0CAA0C;;;;AAOpE,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,6LAAI;QAEvB,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,eAAe,MAAM,yHAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;YACrD,OAAO;gBAAE;YAAO;YAChB,SAAS;gBAAE,MAAM;YAAO;QAC1B;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,cAAc;YAAE,QAAQ;QAAI;IACvD,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO,IAAI,OAAO,IAAI;QAAwB,GAChD;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,6LAAI;QAEvB,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG;QAEtD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU;YACjC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0C,GACnD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,yHAAM,CAAC,WAAW,CAAC,MAAM,CAAC;YAC9C,MAAM;gBACJ;gBACA,QAAQ,WAAW;gBACnB;gBACA;gBACA,aAAa,eAAe;gBAC5B,MAAM,OAAO,IAAI,KAAK,QAAQ;YAChC;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,SAAS;YAAE,QAAQ;QAAI;IAClD,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO,IAAI,OAAO,IAAI;QAAwB,GAChD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}