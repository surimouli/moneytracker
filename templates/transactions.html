{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-6 col-md-8">
    <div class="mt-card">
      <div class="mt-card-header">
        <div>
          <h2 class="mt-card-title">Add a transaction</h2>
          <p class="mt-card-subtitle">
            Log your incomes and spendings, even if you forgot yesterday.
          </p>
        </div>
      </div>

      <form
        method="post"
        action="{{ url_for('transactions.transactions_view') }}"
        class="mt-form"
      >
        <!-- Amount + type -->
        <div class="mb-3">
          <label class="mt-label">Amount</label>
          <div class="d-flex gap-2 mb-2">
            <div class="mt-toggle-group" role="group">
              <input
                type="radio"
                class="btn-check"
                name="type"
                id="income"
                value="income"
                checked
              />
              <label class="mt-toggle-btn mt-toggle-income" for="income">
                Income
              </label>

              <input
                type="radio"
                class="btn-check"
                name="type"
                id="spending"
                value="spending"
              />
              <label class="mt-toggle-btn mt-toggle-spending" for="spending">
                Spending
              </label>
            </div>
          </div>
          <input
            type="number"
            step="0.01"
            class="form-control mt-input"
            name="amount"
            placeholder="e.g. 25.00"
            required
          />
          <div class="mt-help-text">
            Just type the number. The sign comes from Income / Spending.
          </div>
        </div>

        <!-- Date -->
        <div class="mb-3">
          <label class="mt-label">Date (optional)</label>
          <input
            type="date"
            class="form-control mt-input"
            name="date"
          />
          <div class="mt-help-text">
            Leave blank to use today. Set this if youâ€™re catching up.
          </div>
        </div>

        <!-- Category -->
        <div class="mb-3">
          <label class="mt-label">Category</label>
          <select name="category" class="form-select mt-input">
            <option value="">Uncategorized</option>
            {% for c in categories %}
            <option value="{{ c.name }}">{{ c.name }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Note -->
        <div class="mb-4">
          <label class="mt-label">Note (optional)</label>
          <input
            type="text"
            class="form-control mt-input"
            name="note"
            placeholder="Starbucks, rent, paycheck..."
          />
        </div>

        <div class="d-flex justify-content-end">
          <button type="submit" class="mt-primary-btn">
            Save transaction
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}